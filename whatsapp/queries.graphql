# Sample GraphQL Queries and Mutations for WhatsApp API

## Queries

### Get all available templates (for dropdown)
query GetAvailableTemplates {
  getAvailableTemplates {
    type
    name
    displayName
    language
    description
    requiresParameters
    parameterCount
    parameterDescriptions
  }
}

### Get specific template info
query GetTemplateInfo {
  getTemplateInfo(templateType: TEMP_PASSWORD) {
    name
    displayName
    description
    requiresParameters
    parameterCount
    parameterDescriptions
  }
}

### List all message templates from WhatsApp API
query ListTemplates {
  listTemplates {
    data {
      id
      name
      language
      status
      category
    }
    paging
  }
}

### Get token information (debugging)
query GetTokenInfo {
  getTokenInfo
}

## Mutations

### Send template using ENUM (Recommended - Type Safe)
mutation SendTemplateWithEnum {
  sendTemplate(
    to: "1234567890"
    templateType: HELLO_WORLD
  ) {
    messagingProduct
    contacts {
      input
      waId
    }
    messages {
      id
    }
  }
}

### Send temp password template
mutation SendTempPassword {
  sendTemplate(
    to: "1234567890"
    templateType: TEMP_PASSWORD
    parameters: ["ABC123"]
  ) {
    messagingProduct
    contacts {
      waId
    }
    messages {
      id
    }
  }
}

### Send CV notification
mutation SendCvNotification {
  sendTemplate(
    to: "1234567890"
    templateType: CV_RECEIVED_NOTIFICATION
    parameters: ["John Doe"]
  ) {
    contacts {
      waId
    }
    messages {
      id
    }
  }
}

### Send score report
mutation SendScoreReport {
  sendTemplate(
    to: "1234567890"
    templateType: SCORE_REPORT
    parameters: ["95/100"]
  ) {
    contacts {
      waId
    }
    messages {
      id
    }
  }
}

### Send a text message
mutation SendTextMessage {
  sendTextMessage(
    to: "1234567890"
    text: "Hello! This is a test message from GraphQL."
  ) {
    messagingProduct
    contacts {
      input
      waId
    }
    messages {
      id
    }
  }
}

### Clear token cache (useful for debugging)
mutation ClearCache {
  clearTokenCache
}

## Variables Example

### You can also use variables in your queries:
mutation SendTemplateWithVariables($to: String!, $templateName: String!, $params: [String!]) {
  sendTemplateMessage(
    to: $to
    templateName: $templateName
    parameters: $params
  ) {
    messages {
      id
    }
  }
}

# Variables:
# {
#   "to": "1234567890",
#   "templateName": "hello_world",
#   "params": []
# }
